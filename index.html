<!DOCTYPE html>

<head>
    <style>
        body {
            font-family: Baskerville;
            font-size: 1.5rem;
        }
    </style>
</head>

<html>
    <div id="poem">
    </div>
</html>

<script>
    var poem = "I wandered lonely as a cloud<br>That floats on high o'er vales and hills,<br>When all at once I saw a crowd,<br>A host, of golden daffodils;<br>Beside the lake, beneath the trees,<br>Fluttering and dancing in the breeze.<br><br>Continuous as the stars that shine<br>And twinkle on the milky way,<br>They stretched in never-ending line<br>Along the margin of a bay:<br>Ten thousand saw I at a glance,<br>Tossing their heads in sprightly dance.<br><br>The waves beside them danced; but they<br>Out-did the sparkling waves in glee:<br>A poet could not but be gay,<br>In such a jocund company:<br>I gazed—and gazed—but little thought<br>What wealth the show to me had brought:<br><br>For oft, when on my couch I lie<br>In vacant or in pensive mood,<br>They flash upon that inward eye<br>Which is the bliss of solitude;<br>And then my heart with pleasure fills,<br>And dances with the daffodils."
    
    // var lines = poem.split("<br>")
    // var words = []
    
    // for (var i=0; i<lines.length; i++) {
    //     words.push(...lines[i].split(" "))
    // }
    
    var words = poem.split(" ");
    
    // console.log(words.length);
    // console.log(words);
    
    // document.write(poem)
    // document.write("<hr />")
    // document.write(words.join(" "))
    
    // document.write("<hr />")
    // document.write(words.join(" "))
    
    function swapFlutter(w, n=1) {
        for (var i=0; i<n; i++) {
            var randIndex1 = Math.floor(Math.random()*w.length)
            var randIndex2 = Math.floor(Math.random()*w.length)
    
            var tmp = w[randIndex1]
            w[randIndex1] = w[randIndex2]
            w[randIndex2] = tmp
        }
        return w
    }

    poemDiv = document.getElementById("poem")
    function swapOnceAndUpdate() {
        words = swapFlutter(words)
        poemDiv.innerHTML = words.join(" ")
    }

    // words = swapFlutter(words, 10)
    // poemDiv.innerHTML = words.join(" ")

    var intervalID = setInterval(swapOnceAndUpdate, 5000)
    
</script>
    